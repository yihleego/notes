# AI Coding

## 使用AI

下面是一份针对你提供的问题的示范性面试回答，语气专业、逻辑清晰，可用于技术面或产品面场景。

### 一、对 AI Coding 的个人理解

我认为 AI Coding 是人机协同编程的进化形态，通过大语言模型（LLM）理解自然语言需求，辅助开发者在代码生成、重构、调试、文档撰写等环节中提高效率。它的核心价值并不是“替代程序员”，而是让程序员从机械性工作中解放出来，更专注于架构设计和业务逻辑。
AI Coding 本质上融合了三层智能：

1. 本质上是把大模型嵌入到开发全流程（需求理解 → 设计 → 编码 → 测试 → 调试 → 文档 → 运维）的一套协作体系。
2. 它提升的不是简单的“打字速度”，而是：
    - 降低理解成本（快速阅读/总结代码、文档、接口规范）。
    - 降低探索成本（快速生成样例、脚手架、PoC）。
    - 降低改动成本（批量重构、风格统一、生成测试用例）。
3. 最终目标是：让工程师把精力集中在「架构决策、边界条件、业务抽象、安全与质量」这些 AI 暂时做不好的部分，而不是机械重复劳动。

我会把 AI 当“高级结对程序员＋初级实习生”的混合体：战略上信任，战术上永远做 Code Review。

### 二、AI Coding 的个人最佳实践

我现在比较稳定的一些做法：

1. 清晰 Prompt，而不是一句“帮我写”：
    - 交代上下文：技术栈、约束（性能/安全/兼容性）、已有接口。
    - 指定输出格式：函数签名、文件结构、测试用例形式。
2. 小步使用，永远 Review：
    - 让 AI 生成小块代码/重构建议，逐块合并。
    - 所有生成代码必须：
    - 过自己逻辑检查
    - 跑测试 / 静态检查
3. 用 AI 做“差异化工作”而不是“复制 StackOverflow”：
    - 请它解释现有代码、排查 Bug、比较几种实现方案的 trade-off。
    - 让它对我写的代码提问题、找隐患（边界条件 / 并发 / 安全）。
4. 安全与合规意识：
    - 不把敏感数据、密钥、未开源代码直接丢到公共环境。
    - 内外网/本地模型分层使用。
5. 把 AI 输出当“第一稿”：
    - 对关键模块（安全、资金、核心交易等）坚持“AI 起稿，人类重写或深度改”。

### 三、平时用 AI Coding 的工作流概括

可以这样描述一条典型流水线（以日常开发任务为例）：

1. 理解需求 & 熟悉代码库
    - 用 AI 总结 PRD/需求文档。
    - 让 AI 根据 repo 结构介绍关键模块、数据流。
2. 设计阶段
    - 让 AI 根据需求给出 2–3 套设计方案（接口、数据结构、边界场景）。
    - 我从中选一套或融合，自己做最后架构决策。
3. 编码阶段
    - 在 IDE 里用 Tab 补全/内联建议写样板代码、接口实现。
    - 对重复性代码（DTO、Mapping、API Client、表驱动逻辑）直接让 AI 生成。
4. 测试与验证
    - 让 AI 生成单测/集成测试草稿，再按项目标准补齐。
    - 遇到 Bug，用“Explain + Debug”对话：粘堆栈/日志，请它推断可能原因并给出修复思路。
5. 重构 & 文档
    - 让 AI 对旧代码提出重构建议。
    - 自动生成接口说明、README、变更日志初稿。
6. Review 辅助
    - AI 帮我快速浏览 PR、总结改动点和潜在风险，最后由人做决策。

这样回答，体现的是“融入全流程”，而不仅是自动补全。

### 四、用过哪些 AI IDE，有什么差异（

1. GitHub Copilot
    - 优点：生态成熟、Tab 补全体验顺滑、多语言支持好、学习成本低。
    - 场景：日常项目主力，写业务代码和单测非常顺手。
2. Cursor
    - 优点：更强的「全项目级上下文理解」，可以选中多文件对话、生成 refactor plan。
    - 更适合重构、阅读陌生代码仓库、做代码导航。
3. Codex
    - 优点：与静态分析、重构工具深度结合，在强类型语言上体验好。
    - 场景：Java / Kotlin / Scala 等大型项目。
4. 差异点总结
    - 补全体验：响应速度、建议质量。
    - 上下文能力：能否理解多文件 / 整仓库。
    - Agent 能力：是否支持「对话式修改工程」而不只是补全。
    - 隐私 & 部署：是否支持企业私有化、本地模型。

### 五、对 AI IDE 中 Agent 的个人理解

我会这样解释：

1. Agent 不是“更聪明的补全”，而是：
    - 在明确目标下，能够「读取代码 / 规划步骤 / 调用工具 / 修改文件 / 反馈结果」的自动化助手。
2. 关键能力：
    - 访问项目上下文（代码、配置、文档）。
    - 调用工具：Git 操作、测试命令、搜索/重构指令等。
    - 多轮推理：根据执行结果调整下一步（例如测试失败就自动修）。
3. 实际应用：
    - 批量重构、统一风格。
    - 根据报错日志自动定位问题并提 PR 草稿。
    - 从 Issue/需求描述直接生成改动方案和实现草稿。
4. 我的态度：
    - 短期视作“半自动化脚本生成器”，需要强约束和审查。
    - 使用时会控制操作范围，比如只允许改指定目录或给 diff 先审后改。

### 六、对 AI IDE 中 MCP 的个人理解

这里通常指的是类似 Model Context Protocol 的机制（不同厂商实现略有差异），我会从工程视角说明：

1. 解决的问题：
    - 大模型本身不知道你的代码库、内部服务、工具指令。
    - MCP/类似协议提供一套标准方式，让模型可以安全、有边界地：
        - 访问外部数据源（代码仓库、文档、API）。
        - 调用特定工具（运行测试、搜索、构建、部署模拟等）。
2. 核心点：
    - 标准化：用统一协议描述“我有哪些工具 / 资源可以用”。
    - 安全与权限：可控地暴露能力，防止模型“乱改东西”。
    - 可扩展：团队可以按需挂接自己的内部服务/知识库。
3. 在 IDE 场景中的意义：
    - 让 Agent 不只是“聊天”，而是能通过 MCP 接入 IDE 功能和企业环境，完成真实可执行的开发任务。
    - 我理解它更像是「大模型的插件/工具层标准」。

### 七、是否了解 AI IDE 中 Tab 补全模型及其原理

回答可以简要技术化一点：

1. 原理概括：
    - 底层通常是「大规模语言模型（多为 Code LLM）」做 next-token prediction：
    - 输入包括：当前文件上下文、光标前后代码、同项目相关文件片段、语言/框架信息等。
    - 模型预测后续最可能的一段代码，IDE 以灰字/补全形式展示。
2. 工程优化：
    - 上下文裁剪：用启发式或索引选取相关代码（例如同文件、同类、相关函数）。
    - 多候选与重排序：模型生成多个补全，再根据语言规则/编译通过率/统计特征重排。
    - 本地侧推理或缓存：减少延迟、保护隐私。
3. 和“聊天式生成”的区别：
    - Tab 补全是低延迟、短上下文、强实时性的推断，更偏“微交互”。
    - Chat/Agent 可以做长上下文、跨文件、多轮推理，适合复杂任务。
4. 使用态度：
    - 补全对常规样板代码非常高效，但我会特别注意：
        - 类型是否一致、异常有没有处理、边界条件是否遗漏。
        - 避免“盲目回车”导致复制错误模式。

### 八、AI Coding Agent 使用场景

结合产品文档和这两天的使用体验，我总结了几个典型场景。如果你不知道如何上手，可以参考一下。

- 让 agent 解释下代码库，回答某些具体问题。这也是产品 on boarding 时默认推荐的任务。
- 帮我看下代码库中的重要文件，总结一些重要且可复用的知识记录下来。Claude Code 的/init命令主要就是在做这个，我也用类似的方法生成了个AGENTS.md给 Codex。
- 把环境启动后执行一下项目总体的测试，看看能否跑通。这个对于在云端工作的 agent 来说非常重要，确保环境是 ok 的，后续可以自行测试与迭代修改。
- 来读读项目代码，看看是否能找到一些 bug。这也是 Codex 的 on boarding 任务之一，你别说还真能找到 bug。
- 看下哪些核心文件缺少测试覆盖，帮我补充一些。写测试不会破坏你已有的功能，review 时心理负担很低。
- 帮我看下整体架构是否符合现代软件工程/Clean Architecture 等最佳实践，有没有可以改进的地方？或者更具体一些的设计问题也可以找 agent 来头脑风暴，比如如何管理异步任务，如何优化数据库连接池等。
- 重构一些复杂度高的类/函数。我习惯用一些代码复杂度工具（radon，sonar 等）来找项目库中一些有优化空间的代码，然后让 agent 来重构。不过要注意最好先有测试覆盖。
- 做一些比较具体的 bugfix，scope 比较小，需求明确的 feature。基本上成功率很高。
- 生成 commit message 和 pull request，这属于“泛写作领域”，AI 那肯定是无敌的。只有“斗图”目前应该还比不过人类吧……

从之前 Cursor，Devin 的各种神奇衍生用法也能推断，我们理论上也能用 Claude Code 和 Codex 来做一些非典型的任务，比如：

- 当作 Deep Research 来用，“帮我看看跟这个项目类似的 GitHub 项目有哪些，有什么可以借鉴的地方”。
- 把个人博客扔给 agent，做一些创意辅助工作。
- 处理图片、音视频。
- 执行数据分析任务。
- ...

### 九、如何看待 AI 的发展

与其焦虑 AI 是否取代人类，还不如多去学学和 LLM 相关的一些技术，比如Prompt、Agent、MCP

参考文章：

- [从ChatGPT到AI Agent，一文讲透 Agent 的底层逻辑](https://mp.weixin.qq.com/s/tewBKHgbyrjxUjAOmkXI7A)
- [两个月重度使用 AI Code Agent：普通一线程序员的思考和感想](https://jt26wzz.com/posts/0013-ai-coding/)
- [谈谈 AI 编程工具的进化与 Vibe Coding](https://guangzhengli.com/blog/zh/vibe-coding-and-context-coding)

## 基础能力（算法、数据结构、编程功底）

### 请描述你如何在 AI 辅助编程场景下设计可扩展的代码结构？

### 你如何验证 AI 自动生成的代码的正确性和鲁棒性？

### 解释多线程与异步编程的差异，并举例说明 AI 编程助手可能误用的典型场景。

### 给定一个包含亿级数据的日志，你如何使用高效算法统计 Top-K 频次事件？

### 在使用 LLM 自动生成递归代码时，你会担心哪些潜在风险？如何避免？

## Prompt Engineering 与 LLM Coding 理解

### 描述你设计 Prompt 的方法论，包括如何构建系统提示、角色提示以及约束提示。

### 如何让模型按照指定代码规范（如 Airbnb、PEP8）持续输出一致结果？

### 面对大模型生成的代码出现“幻觉”，你通常如何 Debug？

### 如果让模型一次生成全量模块 vs 分模块按需生成，你会如何选择？

### 如何设计 Prompt 让模型生成可测试、可扩展、边界情况完整的代码？

## AI Coding 工具链（Copilot / ChatGPT / Codeium 等）

### 在真实开发项目中，你是如何将 AI Coding 融入工作流的？

### 描述你对 GitHub Copilot 的工作原理理解，特别是“上下文窗口”的限制。

### 如何利用 AI 工具自动识别技术债与重复代码？

### 在 IDE 中使用 AI 辅助调试的典型案例？

### 当 AI 生成的代码与你已有代码风格不一致，你如何处理？

## LLM 应用开发与系统设计

### 你如何构建一个基于 GPT/Claude 的企业级应用？系统架构如何设计？

### 如果让一个模型具备长期记忆，你会如何设计存储与检索系统？

### 如何设计一个“模型调用代理（LLM Orchestrator）”？

### 当系统需要调用多个模型（如 GPT+Embedding+本地模型），你如何编排？

### 你对 RAG（Retrieval Augmented Generation）和微调（Fine-tuning）的使用边界如何判断？

## 模型与 Embedding 相关问题

### 请比较不同 Embedding 模型（如 OpenAI、BGE、Cohere）的区别与使用场景。

### Embedding 在代码理解中的难点是什么？

### 在构建代码搜索系统时，你如何处理跨文件引用？

### 你如何评估 Embedding 召回率？

### 如何优化向量库的性能？（HNSW、Faiss、ANN 等）

## AI 编程中的安全与合规

### 如何防止 LLM 在生成代码时引入漏洞？

### 如何检测生成代码中的 SQL 注入、XSS 等风险？

### 在企业环境中，使用 AI Coding 工具可能涉及哪些法律或隐私问题？

### 如何让模型避免生成敏感接口调用？

### 你会如何设计“AI 代码审查（AI Code Review）系统”？

## 评价与测试（LLM 质量、代码质量）

### 如何评估模型生成的代码是否具有可维护性？

### 你会为 LLM 生成代码设计哪些自动化测试策略？

### 如何构建一个“代码自动评分系统”？

### 在 LLM 评测中，哪些指标对开发者最重要？（Correctness、Robustness、Style 等）

### 如何自动检测生成代码中的边界情况是否覆盖？

## 工程实战场景题（可作为 Take Home）

### 让模型自动生成一个 Web API 服务，你如何确保其可运行并符合规范？

### 给定一段错误频发的 Python 代码，要求通过 AI 工具自动定位问题并修复。

### 构建一个“AI 自动写单元测试”系统。

### 构建一个“AI 工程师助理”系统，包括任务规划、代码生成、调试等模块。

### 构建一个智能代码 Refactor 工具，支持大规模代码库。
